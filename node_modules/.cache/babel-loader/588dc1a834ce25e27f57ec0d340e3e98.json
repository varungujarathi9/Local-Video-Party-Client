{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/aravind/Documents/projects/Local-Video-Party-Client/client/src/components/Lobby.jsx\";\n\n/**\n * TODO: Dont show next for joinees\n * TODO: socket listen to new-joinee, if joinee listen to video-started\n */\nimport { navigate } from '@reach/router';\nimport React from 'react';\nimport { serverSocket } from './helper/connection';\nimport style from './Lobby.module.css';\nimport { AvatarArr } from './Avatar';\nimport BackIcon from '../images/BackIcon.png';\nexport default class Lobby extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userType: '',\n      username: '',\n      roomDetails: '',\n      fileName: '',\n      extension: [\"mp4\", \"mkv\", \"x-msvideo\", \"x-matroska\"],\n      extensionValid: false,\n      fileError: '',\n      videoStreamFlag: true,\n      ready: false,\n      messages: [],\n      message: ''\n    };\n\n    this.handleFile = e => {\n      this.setState({\n        videoStartError: ''\n      });\n      e.preventDefault();\n      var filelist = document.getElementById('videofile').files[0];\n\n      if (filelist !== undefined) {\n        console.log(filelist);\n        var typeOfFile = filelist.type;\n        console.log(typeOfFile);\n        var file = e.target.value.replace(/^.*[\\\\]/, '');\n        this.setState({\n          fileName: file\n        });\n        var extensionVal = typeOfFile.split('/');\n        console.log(extensionVal);\n\n        if (this.state.extension.includes(extensionVal[1])) {\n          this.setState({\n            extensionCheck: true,\n            errorMsg: '',\n            videoStreamFlag: true\n          });\n        } else {\n          this.setState({\n            errorMsg: \"Please provide valid file\",\n            extensionCheck: false,\n            videoStreamFlag: false\n          });\n        }\n\n        var fileUrl = URL.createObjectURL(filelist).split();\n        sessionStorage.setItem('video_file', fileUrl);\n      } else {\n        this.setState({\n          errorMsg: \"\",\n          extensionCheck: false,\n          videoStreamFlag: false\n        });\n      }\n    };\n\n    this.startVideo = async () => {\n      if (this.state.userType === 'creator') {\n        serverSocket.emit('start-video', {\n          room_id: sessionStorage.getItem('room-id')\n        });\n      }\n    };\n\n    this.leaveRoom = () => {\n      if (sessionStorage.getItem('user-type') === 'joinee') {\n        serverSocket.emit('remove-member', {\n          username: this.state.username,\n          roomID: this.state.roomID\n        });\n      } else {\n        serverSocket.emit('remove-all-member', {\n          username: this.state.username,\n          roomID: this.state.roomID\n        });\n      }\n    };\n\n    this.readyForVideo = () => {\n      if (this.state.userType === 'joinee') {\n        if (this.state.fileName === '' || this.state.fileName === null) {\n          // TODO change alert to UI\n          this.setState({\n            videoStreamFlag: true\n          });\n          sessionStorage.setItem('video_file', null);\n        } else {\n          this.setState({\n            videoStreamFlag: false\n          });\n        }\n\n        if (this.state.ready === false) {\n          document.getElementById('readyButton').innerHTML = 'Cancel';\n          document.getElementById('videofile').disabled = true;\n          this.setState({\n            ready: true\n          });\n          serverSocket.emit('update-member-status', {\n            roomID: this.state.roomID,\n            username: this.state.username,\n            ready: true\n          });\n        } else {\n          document.getElementById('readyButton').innerHTML = 'Ready for partying';\n          document.getElementById('videofile').disabled = false;\n          this.setState({\n            ready: false\n          });\n          serverSocket.emit('update-member-status', {\n            roomID: this.state.roomID,\n            username: this.state.username,\n            ready: false\n          });\n        }\n      }\n    };\n\n    this.capitalizeUsername = () => {\n      var username = sessionStorage.getItem('username');\n      var finalUsername = username.charAt(0).toUpperCase() + username.slice(1);\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.creatorName,\n        children: [finalUsername, \"'s Room\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.handleMessageChange = event => {\n      event.preventDefault();\n      this.setState({\n        message: event.target.value\n      });\n    };\n\n    this.sendMsg = event => {\n      event.preventDefault();\n\n      if (this.state.message !== '') {\n        serverSocket.emit('send-message', {\n          senderName: this.state.username,\n          roomID: this.state.roomID,\n          message: this.state.message\n        });\n      }\n\n      document.getElementById(\"chat\").value = \"\";\n    };\n  }\n\n  componentDidMount() {\n    if (sessionStorage.getItem('user-type') === 'creator' || sessionStorage.getItem('user-type') === 'joinee') {\n      this.setState({\n        userType: sessionStorage.getItem('user-type')\n      });\n    } else {\n      navigate('/');\n    }\n\n    if (sessionStorage.getItem('room-details') !== null || sessionStorage.getItem('room-details') !== '') {\n      // console.log(JSON.parse(sessionStorage.getItem('room-details').replace(/\"/g,'\\\"')))\n      this.setState({\n        roomDetails: JSON.parse(sessionStorage.getItem('room-details').replace(/\"/g, '\\\"'))\n      });\n    } else {\n      navigate('/');\n    }\n\n    if (sessionStorage.getItem('username') !== null || sessionStorage.getItem('username') !== '') {\n      this.setState({\n        username: sessionStorage.getItem('username')\n      });\n    } else {\n      navigate('/');\n    }\n\n    if (sessionStorage.getItem('room-id') !== null || sessionStorage.getItem('room-id') !== '') {\n      this.setState({\n        roomID: sessionStorage.getItem('room-id')\n      });\n    } else {\n      navigate('/');\n    }\n\n    serverSocket.on('update-room-details', data => {\n      // console.log(data)\n      sessionStorage.setItem('room-details', JSON.stringify(data)); // sessionStorage.setItem('room-members',JSON.stringify(data['members']))\n\n      this.setState({\n        roomDetails: JSON.parse(JSON.stringify(data))\n      });\n\n      if (this.state.ready && JSON.parse(JSON.stringify(data))['started']) {\n        // createPeerConnection() \n        sessionStorage.setItem('video-stream-flag', this.state.videoStreamFlag);\n        navigate('/video-player');\n      }\n    });\n    serverSocket.on('video-started', data => {\n      // createPeerConnection() \n      sessionStorage.setItem('video-stream-flag', this.state.videoStreamFlag); // handleSignalingData({'sdp':data['sesDetails'],'type':data['typeOfSdp']})\n\n      navigate('/video-player');\n    });\n    serverSocket.on('left_room', data => {\n      sessionStorage.setItem('room-details', JSON.stringify(data)); // sessionStorage.setItem('room-members',JSON.stringify(data['members']))\n\n      this.setState({\n        roomDetails: JSON.parse(JSON.stringify(data))\n      });\n      navigate('/');\n    });\n    serverSocket.on('all_left', data => {\n      // console.log(data)\n      sessionStorage.setItem('room-details', JSON.stringify(data)); // sessionStorage.setItem('room-members',JSON.stringify(data['members']))\n\n      this.setState({\n        roomDetails: JSON.parse(JSON.stringify(data))\n      });\n      navigate('/');\n    });\n    serverSocket.on('receive_message', data => {\n      console.log(data);\n      sessionStorage.setItem('messages', data);\n      this.setState({\n        messages: data\n      });\n    });\n    serverSocket.emit('get-all-messages', {\n      roomID: sessionStorage.getItem('room-id')\n    });\n  }\n\n  render() {\n    var {\n      roomDetails,\n      messages,\n      videoStreamFlag\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.left,\n        children: [sessionStorage.getItem('user-type') === 'creator' && this.capitalizeUsername(), sessionStorage.getItem('user-type') === 'creator' && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.roomId,\n          children: [\"Room ID: \", this.state.roomID]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 70\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.memTitle,\n          children: [\"Members in Lobby\", /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: style.memberDisplay,\n              children: roomDetails !== '' && Object.keys(roomDetails.members).length > 0 && Object.keys(roomDetails.members).map(item => {\n                return /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: AvatarArr[roomDetails.members[item]],\n                    alt: \"avatarimg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: item\n                  }, item, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)\n          }, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: style.leaveRoomBtn,\n          onClick: this.leaveRoom,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.leaveBtnDiv,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: style.leaveBtnImg,\n              src: BackIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: style.leaveBtnTxt,\n              children: \"Leave Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.right,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.inputFile,\n            type: \"file\",\n            id: \"videofile\",\n            onChange: this.handleFile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this), this.state.extensionCheck ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.fileCheck,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: style.fileName,\n            children: this.state.fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 29\n          }, this), sessionStorage.getItem('user-type') === 'creator' && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: style.startPlaying,\n            onClick: this.startVideo,\n            children: \"Start partying\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 83\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            color: 'red'\n          },\n          children: this.state.errorMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.fileCheck,\n          children: [sessionStorage.getItem('user-type') === 'joinee' && this.state.ready && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'blue'\n            },\n            children: \"Waiting for the host to start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 90\n          }, this), sessionStorage.getItem('user-type') === 'joinee' && /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"readyButton\",\n            className: style.startPlaying,\n            onClick: this.readyForVideo,\n            children: \"Ready for partying\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 70\n          }, this), sessionStorage.getItem('user-type') === 'joinee' && (videoStreamFlag ? /*#__PURE__*/_jsxDEV(\"h6\", {\n            style: {\n              color: 'red'\n            },\n            children: \"You have not selected any file, video will be stream to you directly\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 87\n          }, this) : /*#__PURE__*/_jsxDEV(\"h6\", {\n            style: {\n              color: 'green'\n            },\n            children: \"Your selected file would be played\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 190\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/aravind/Documents/projects/Local-Video-Party-Client/client/src/components/Lobby.jsx"],"names":["navigate","React","serverSocket","style","AvatarArr","BackIcon","Lobby","Component","state","userType","username","roomDetails","fileName","extension","extensionValid","fileError","videoStreamFlag","ready","messages","message","handleFile","e","setState","videoStartError","preventDefault","filelist","document","getElementById","files","undefined","console","log","typeOfFile","type","file","target","value","replace","extensionVal","split","includes","extensionCheck","errorMsg","fileUrl","URL","createObjectURL","sessionStorage","setItem","startVideo","emit","room_id","getItem","leaveRoom","roomID","readyForVideo","innerHTML","disabled","capitalizeUsername","finalUsername","charAt","toUpperCase","slice","creatorName","handleMessageChange","event","sendMsg","senderName","componentDidMount","JSON","parse","on","data","stringify","render","left","roomId","memTitle","memberDisplay","Object","keys","members","length","map","item","leaveRoomBtn","leaveBtnDiv","leaveBtnImg","leaveBtnTxt","right","inputFile","fileCheck","startPlaying","color"],"mappings":"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","sourcesContent":["/**\n * TODO: Dont show next for joinees\n * TODO: socket listen to new-joinee, if joinee listen to video-started\n */\n\nimport { navigate } from '@reach/router'\nimport React from 'react'\nimport { serverSocket } from './helper/connection'\nimport style from './Lobby.module.css'\nimport {AvatarArr} from './Avatar'\nimport BackIcon from '../images/BackIcon.png'\n\nexport default class Lobby extends React.Component {\n    state = {\n        userType: '',\n        username: '',\n        roomDetails: '',\n        fileName: '',\n        extension: [\"mp4\", \"mkv\", \"x-msvideo\", \"x-matroska\"],\n        extensionValid: false,\n        fileError: '',\n        videoStreamFlag: true,\n        ready: false,\n        messages: [],\n        message: '',\n    }\n\n    componentDidMount(){\n\n        if (sessionStorage.getItem('user-type') === 'creator' || sessionStorage.getItem('user-type') === 'joinee' ){\n            this.setState({userType: sessionStorage.getItem('user-type')})\n        }\n        else{\n            navigate('/')\n        }\n\n        if (sessionStorage.getItem('room-details') !== null || sessionStorage.getItem('room-details') !== '' ){\n            // console.log(JSON.parse(sessionStorage.getItem('room-details').replace(/\"/g,'\\\"')))\n            this.setState({roomDetails: JSON.parse(sessionStorage.getItem('room-details').replace(/\"/g,'\\\"'))})\n        }\n        else{\n            navigate('/')\n        }\n\n        if (sessionStorage.getItem('username') !== null || sessionStorage.getItem('username') !== '' ){\n            this.setState({username: sessionStorage.getItem('username')})\n        }\n        else{\n            navigate('/')\n        }\n\n        if (sessionStorage.getItem('room-id') !== null || sessionStorage.getItem('room-id') !== '' ){\n            this.setState({roomID: sessionStorage.getItem('room-id')})\n        }\n        else{\n            navigate('/')\n        }\n\n        serverSocket.on('update-room-details', (data)=>{\n            // console.log(data)\n            sessionStorage.setItem('room-details', JSON.stringify(data))\n            // sessionStorage.setItem('room-members',JSON.stringify(data['members']))\n            this.setState({\n                roomDetails: JSON.parse(JSON.stringify(data)),\n            })\n            if(this.state.ready && JSON.parse(JSON.stringify(data))['started']){\n                // createPeerConnection() \n                sessionStorage.setItem('video-stream-flag', this.state.videoStreamFlag)\n                navigate('/video-player')\n            }\n        })\n\n        serverSocket.on('video-started', (data)=>{\n            // createPeerConnection() \n            sessionStorage.setItem('video-stream-flag', this.state.videoStreamFlag)\n            // handleSignalingData({'sdp':data['sesDetails'],'type':data['typeOfSdp']})\n            navigate('/video-player')\n            \n        })\n\n        serverSocket.on('left_room',data=>{\n            sessionStorage.setItem('room-details', JSON.stringify(data))\n            // sessionStorage.setItem('room-members',JSON.stringify(data['members']))\n            this.setState({\n                roomDetails: JSON.parse(JSON.stringify(data)),\n\n            })\n            navigate('/')\n        })\n\n        serverSocket.on('all_left',data=>{\n            // console.log(data)\n            sessionStorage.setItem('room-details', JSON.stringify(data))\n            // sessionStorage.setItem('room-members',JSON.stringify(data['members']))\n            this.setState({\n                roomDetails: JSON.parse(JSON.stringify(data)),\n            })\n            navigate('/')\n        })\n\n        serverSocket.on('receive_message',data=>{\n            console.log(data)\n            sessionStorage.setItem('messages', data)\n            this.setState({\n                messages: data,\n            })\n        })\n        serverSocket.emit('get-all-messages',{roomID:sessionStorage.getItem('room-id')})\n    }\n\n\n\n\n    handleFile = (e) => {\n        this.setState({\n            videoStartError:''\n        })\n        e.preventDefault()\n\n        var filelist = document.getElementById('videofile').files[0]\n        if (filelist !== undefined){\n            console.log(filelist)\n            var typeOfFile = filelist.type\n            console.log(typeOfFile)\n            var file = e.target.value.replace(/^.*[\\\\]/, '')\n\n            this.setState({\n                fileName: file,\n            })\n\n            var extensionVal = typeOfFile.split('/')\n            console.log(extensionVal)\n\n            if (this.state.extension.includes(extensionVal[1])) {\n                this.setState({\n                    extensionCheck: true,\n                    errorMsg: '',\n                    videoStreamFlag: true\n                })\n            }\n            else {\n                this.setState({\n                    errorMsg: \"Please provide valid file\",\n                    extensionCheck: false,\n                    videoStreamFlag: false\n                })\n            }\n            var fileUrl = URL.createObjectURL(filelist).split()\n            sessionStorage.setItem('video_file', fileUrl)\n        }\n        else {\n            this.setState({\n                errorMsg: \"\",\n                extensionCheck: false,\n                videoStreamFlag: false\n            })\n        }\n    }\n\n    startVideo = async () =>{\n        if(this.state.userType === 'creator'){\n            serverSocket.emit('start-video', {room_id:sessionStorage.getItem('room-id')})\n        }\n    }\n\n\n    leaveRoom =() =>{\n        if(sessionStorage.getItem('user-type') === 'joinee'){\n            serverSocket.emit('remove-member',{username:this.state.username, roomID:this.state.roomID})\n        }\n        else{\n            serverSocket.emit('remove-all-member',{username:this.state.username, roomID:this.state.roomID})\n        }\n    }\n\n    readyForVideo = () => {\n        if(this.state.userType === 'joinee'){\n            if ( this.state.fileName === '' || this.state.fileName === null){\n                // TODO change alert to UI\n                this.setState({\n                    videoStreamFlag: true\n                })\n                sessionStorage.setItem('video_file', null)\n            }\n            else{\n                this.setState({\n                    videoStreamFlag: false\n                })\n            }\n\n            if (this.state.ready === false){\n                document.getElementById('readyButton').innerHTML = 'Cancel'\n                document.getElementById('videofile').disabled = true\n                this.setState({\n                    ready: true\n                })\n                serverSocket.emit('update-member-status',{roomID:this.state.roomID, username:this.state.username, ready:true})\n            }\n            else{\n                document.getElementById('readyButton').innerHTML = 'Ready for partying'\n                document.getElementById('videofile').disabled = false\n                this.setState({\n                    ready: false\n                })\n                serverSocket.emit('update-member-status',{roomID:this.state.roomID, username:this.state.username, ready:false})\n            }\n       }\n    }\n\n    capitalizeUsername = () =>{\n        var username  = sessionStorage.getItem('username')\n        var finalUsername = username.charAt(0).toUpperCase()+username.slice(1)\n        return(\n            <p className={style.creatorName}>\n                {finalUsername}'s Room\n                \n            </p>\n        )\n    }\n\n    \n                \n    handleMessageChange = (event) => {\n        event.preventDefault()\n        this.setState({\n            message: event.target.value\n        })\n    }\n\n    sendMsg = (event) =>{\n        event.preventDefault()\n        if(this.state.message !== ''){\n            serverSocket.emit('send-message',{senderName:this.state.username, roomID:this.state.roomID, message:this.state.message})\n        }\n        document.getElementById(\"chat\").value = \"\"\n    }\n\n    render() {\n        var {roomDetails,messages,videoStreamFlag} = this.state\n        \n        return (\n            <div>\n                <div className={style.left}>\n                {sessionStorage.getItem('user-type') === 'creator' && this.capitalizeUsername()}\n                {sessionStorage.getItem('user-type') === 'creator' &&<p className={style.roomId}>Room ID: {this.state.roomID}</p>}\n                <p className={style.memTitle}>Members in Lobby\n                <>\n                <div className={style.memberDisplay}>\n                {roomDetails !== '' && Object.keys(roomDetails.members).length > 0 && Object.keys(roomDetails.members).map((item)=>{\n                    return (\n                            <>\n                            \n                            <img src={AvatarArr[roomDetails.members[item]]} alt=\"avatarimg\"/> \n                            <span key={item}>{item}</span>\n                             </>\n                       \n                    )\n                })}\n                </div>\n                </>\n                \n               </p>\n               <button className={style.leaveRoomBtn}onClick={this.leaveRoom}>\n                   <div className={style.leaveBtnDiv}>\n                       <img  className={style.leaveBtnImg} src={BackIcon}/>\n                       <p  className={style.leaveBtnTxt}>Leave Room</p>\n                   </div>\n                </button>\n\n                </div>\n               \n\n                <div className={style.right}>\n                   \n                    <p><input className={style.inputFile} type=\"file\" id=\"videofile\" onChange={this.handleFile} />\n                    </p>\n                      \n               \n                    {this.state.extensionCheck ?\n                        <div className={style.fileCheck}>\n                            <p className={style.fileName}>{this.state.fileName}</p>\n                            {sessionStorage.getItem('user-type') === 'creator' && <button className={style.startPlaying}onClick={this.startVideo}>Start partying</button>}\n                        </div>\n\n                        : <h4 style={{ color: 'red' }}>{this.state.errorMsg}</h4>}\n                 <div className={style.fileCheck}>\n                {sessionStorage.getItem('user-type') === 'joinee' && this.state.ready && <p style={{ color: 'blue' }}>Waiting for the host to start</p>}\n                {sessionStorage.getItem('user-type') === 'joinee' && <button id='readyButton' className={style.startPlaying} onClick={this.readyForVideo}>Ready for partying</button>}\n                {sessionStorage.getItem('user-type') === 'joinee' && (videoStreamFlag?<h6 style={{ color: 'red' }}>You have not selected any file, video will be stream to you directly</h6>:<h6 style={{ color: 'green' }}>Your selected file would be played</h6>)}\n                </div>\n                </div>\n                \n               \n                \n               \n                {/* <h4>Room I.D.</h4>\n                {this.state.roomID}\n                <h4>Room Members</h4>\n                {roomDetails !== '' && Object.keys(roomDetails.members).length > 0 && Object.keys(roomDetails.members).map((username)=>{\n                    return (\n                        <p key={username}>{username}:{roomDetails.members[username]?\"ready\":\"not ready\"}</p>\n                    )\n                })}\n                <h4>Text Channel</h4>\n                {messages.length > 0 && messages.map((message)=>{\n                    return(\n                    <p key={message[\"messageNumber\"]}>{message[\"senderName\"]}:{message[\"message\"]}</p>\n                    )\n                })}\n                <input type=\"text\" name='chat' id='chat' onChange={this.handleMessageChange}></input>\n                <button onClick={this.sendMsg}>Send</button>\n                <br/>\n                <button onClick={this.leaveRoom}>Leave Room</button> */}\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}